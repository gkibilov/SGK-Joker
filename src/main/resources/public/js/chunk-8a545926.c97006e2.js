(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a545926"],{"5be2":function(t,e,a){t.exports=a.p+"img/SGKLogo.08ad9ba8.png"},6746:function(t,e,a){"use strict";var s=a("af53"),n=a.n(s);n.a},"7b1e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playingCards"},[s("div",{staticClass:"some-page-wrapper"},[t.showResumePolling?s("a",{on:{click:function(e){return t.startPolling()}}},[t._v("resume polling")]):t._e(),s("div",{staticClass:"flex-container"},[s("div",{staticClass:"flex-child gamePlay"},[s("div",{staticClass:"row"},[s("div",{staticClass:"column inlineCards"},[t.opponents[1]?s("div",{staticClass:"playerName top"},[this.currentState.currentTurnPosition===t.opponents[1].position?s("div",{staticClass:"yourTurn"}):t._e(),t._v(" "+t._s(t.opponents[1].name)+" ("+t._s(t.opponents[1].call||"0")+"/"+t._s(t.opponents[1].taken)+") ")]):t._e(),s("div",{staticClass:"privateCard0 cardBack"})])]),s("div",{staticClass:"row"},[s("div",{staticClass:"column"},[t.opponents[0]?s("div",{staticClass:"playerName right"},[this.currentState.currentTurnPosition===t.opponents[0].position?s("div",{staticClass:"yourTurn"}):t._e(),t._v(" "+t._s(t.opponents[0].name)+" ("+t._s(t.opponents[0].call||"0")+"/"+t._s(t.opponents[0].taken)+") ")]):t._e(),s("div",{staticClass:"privateCard90 cardBack90"})]),s("div",{staticClass:"column content"},[s("img",{attrs:{src:a("5be2")}}),s("div",{staticClass:"middleActoins"},t._l(t.actions,(function(e){return s("div",{key:e.cardId,staticClass:"card",class:[t.deck[e.cardId].suite,t.calculateCardPosition(e)]},[s("span",{staticClass:"rank"},[t._v(t._s(t.deck[e.cardId].type))]),t.currentState.currentPlay.jokerActionWant?s("span",{staticClass:"jokerDisplayAction"},[t._v(" Want "),s("span",{class:t.currentState.currentPlay.actingSuite.toLowerCase()})]):t._e(),t.currentState.currentPlay.jokerActionTake?s("span",{staticClass:"jokerDisplayAction"},[t._v(" Take "),s("span",{class:t.currentState.currentPlay.actingSuite.toLowerCase()})]):t._e(),s("span",{staticClass:"suit"}),s("span",{staticClass:"rank rank-bottom"},[t._v(t._s(t.deck[e.cardId].type))])])})),0)]),s("div",{staticClass:"column"},[t.opponents[2]?s("div",{staticClass:"playerName left"},[this.currentState.currentTurnPosition===t.opponents[2].position?s("div",{staticClass:"yourTurn"}):t._e(),t._v(" "+t._s(t.opponents[2].name)+" ("+t._s(t.opponents[2].call||"0")+"/"+t._s(t.opponents[2].taken)+") ")]):t._e(),s("div",{staticClass:"privateCard90 cardBack90"})])]),s("div",{staticClass:"footer-row"},[s("div",{staticClass:"column"},["CALLS_MADE"!==t.currentState.status&&"PLAY_DONE"!==t.currentState.status&&"PLAY_STARTED"!==t.currentState.status||t.currentState.currentTurnPosition!==t.me.position?t._e():s("div",{staticClass:"callBlock"},[s("span",{staticClass:"callUnit"},[t._v("Your Turn")])]),"DEALT"===t.currentState.status&&t.currentState.currentTurnPosition===t.me.position&&null!=t.kozyr?s("div",{staticClass:"callBlock"},[0!=t.me.cantCallNumer?s("span",{staticClass:"callUnit",on:{click:function(e){return t.call(0)}}},[t._v("Pass")]):t._e(),t._l(t.currentState.numCards,(function(e){return s("div",{key:e,staticClass:"template",on:{click:function(a){return t.call(e)}}},[e&&t.me.cantCallNumer!=e?s("span",{staticClass:"callUnit"},[t._v(t._s(e))]):t._e()])}))],2):t._e(),t.showJokerAction?s("div",{staticClass:"jokerAction"},[s("div",{staticClass:"close",on:{click:function(e){return t.closeJokerActions()}}},[t._v("X")]),s("div",{staticClass:"item",on:{click:function(e){return t.selectJokerAction("WANT")}}},[t._v("Want")]),s("div",{staticClass:"item",on:{click:function(e){return t.selectJokerAction("TAKE")}}},[t._v("Take")])]):t._e(),t.showJokerActionSuite?s("div",{staticClass:"jokerAction"},[s("div",{staticClass:"close",on:{click:function(e){return t.closeJokerActions()}}},[t._v("X")]),s("div",{staticClass:"want"},[s("div",{staticClass:"item diamond",on:{click:function(e){return t.selectJokerSuite("DIAMOND")}}}),s("div",{staticClass:"item hart",on:{click:function(e){return t.selectJokerSuite("HART")}}}),s("div",{staticClass:"item spade",on:{click:function(e){return t.selectJokerSuite("SPADE")}}}),s("div",{staticClass:"item club",on:{click:function(e){return t.selectJokerSuite("CLUB")}}})])]):t._e(),"DEALT"===t.currentState.status&&t.currentState.currentTurnPosition===t.me.position&&null==t.kozyr?s("div",{staticClass:"jokerAction"},[s("div",{staticClass:"close",on:{click:function(e){return t.closeJokerActions()}}},[t._v("X")]),s("div",{staticClass:"want"},[s("div",{staticClass:"item diamond",on:{click:function(e){return t.setKozyr("DIAMOND")}}}),s("div",{staticClass:"item hart",on:{click:function(e){return t.setKozyr("HART")}}}),s("div",{staticClass:"item spade",on:{click:function(e){return t.setKozyr("SPADE")}}}),s("div",{staticClass:"item club",on:{click:function(e){return t.setKozyr("CLUB")}}}),s("div",{staticClass:"item BEZ",on:{click:function(e){return t.setKozyr("BEZ")}}})])]):t._e(),s("div",{staticClass:"playerName bottom"},[t._v(" "+t._s(t.me.name)+"("+t._s(t.me.call||"0")+"/"+t._s(t.me.taken)+") ")]),s("div",{staticClass:"inlineCards"},[t.me.cards&&t.me.cards.length>0?[s("div",{staticClass:"cardWrapper"},t._l(t.me.cards,(function(e){return s("div",{key:e.id,staticClass:"card",class:t.deck[e.id].suite,on:{click:function(a){return t.hitAction(e)}}},[s("span",{staticClass:"rank"},[t._v(t._s(t.deck[e.id].type))]),s("span",{staticClass:"suit"}),s("span",{staticClass:"rank rank-bottom"},[t._v(t._s(t.deck[e.id].type))])])})),0)]:t._e()],2)])]),s("div",{staticClass:"account-footer"},[t.players.length&&t.currentState&&t.currentState.cardNumbers?s("account",{attrs:{players:t.players,numberOfCards:t.currentState.cardNumbers}}):t._e()],1)]),s("div",{staticClass:"flex-child tablePlace"},[s("div",{staticClass:"kozyr"},[t.kozyr&&t.deck[t.kozyr.id]?s("div",{staticClass:"card",class:t.deck[t.kozyr.id].suite},[s("span",{staticClass:"rank"},[t._v(t._s(t.deck[t.kozyr.id].type))]),s("span",{staticClass:"suit"}),s("span",{staticClass:"rank rank-bottom"},[t._v(t._s(t.deck[t.kozyr.id].type))])]):t._e(),t.kozyr&&-1===t.kozyr.id?s("div",{staticClass:"card",class:t.kozyr.suite.toLowerCase()},[s("span",{staticClass:"rank"}),s("span",{staticClass:"suit"}),s("span",{staticClass:"rank rank-bottom"})]):t._e(),s("div",{staticClass:"attribute"},[t._v("|---| -200")]),t.currentState&&t.currentState.currentPlay&&t.currentState.currentPlay.huntLevel&&t.currentState.currentPlay.huntLevel>0?s("div",{staticClass:"attribute hunt",attrs:{title:"·É®·Éî·Éú·É¢·Éî·Éú·Éï·Éê"}},[t._v("üê∑"+t._s(t.currentState.currentPlay.huntLevel))]):t._e(),t.currentState&&t.currentState.currentPlay&&t.currentState.currentPlay.huntLevel&&t.currentState.currentPlay.huntLevel<0?s("div",{staticClass:"attribute huntout",attrs:{title:"·É¨·Éê·Éí·Éö·Éî·ÉØ·Éï·Éê"}},[t._v(" "+t._s(-1*t.currentState.currentPlay.huntLevel))]):t._e()]),t.players.length&&t.currentState&&t.currentState.cardNumbers?s("account",{attrs:{players:t.players,numberOfCards:t.currentState.cardNumbers}}):t._e(),t.me?s("chat",{attrs:{messages:t.currentState.messages,gameId:t.gameId,playerId:t.me.id,playerName:t.me.name}}):t._e()],1)])])])},n=[],r=(a("99af"),a("4160"),a("159b"),a("d4ec")),i=a("bee2"),c=a("2caf"),o=a("262e"),l=a("9ab4"),u=a("bc3a"),d=a.n(u),p=a("60a3"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account"},[t.players.length>0?a("div",{attrs:{id:"header"}},t._l(4,(function(e){return a("div",{key:e},[t.players[e].name?a("span",[t._v(t._s(t.players[e].name))]):t._e(),t._l(t.players[e].calls.length,(function(s){return a("div",{key:s,staticClass:"scores"},[1===e?a("span",{staticClass:"separator"},[t._v(t._s(t.numberOfCards[s-1])+" ")]):t._e(),a("span",{class:{lineThrough:t.players[e].bonusMultipliers.length&&-1===t.players[e].bonusMultipliers[s-1]}},[t._v(" "+t._s(t.players[e].calls[s-1])+" - "+t._s(t.players[e].scores[s-1])+" ")]),t.players[e].bonusMultipliers.length?a("span",[t._v(" "+t._s(2===t.players[e].bonusMultipliers[s-1]?"x2":"")+" ")]):t._e(),8===s?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s(t.players[e].pulkaScores&&t.players[e].pulkaScores.length>0?(t.players[e].pulkaScores[0]/100).toFixed(1):0)+" ")]):t._e(),12===s?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s(t.players[e].pulkaScores&&t.players[e].pulkaScores.length>0?(t.players[e].pulkaScores[1]/100).toFixed(1):0)+" ")]):t._e(),20===s?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s(t.players[e].pulkaScores&&t.players[e].pulkaScores.length>0?(t.players[e].pulkaScores[2]/100).toFixed(1):0)+" ")]):t._e(),24===s?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s(t.players[e].pulkaScores&&t.players[e].pulkaScores.length>0?(t.players[e].pulkaScores[3]/100).toFixed(1):0)+" ")]):t._e()])})),a("div",{staticClass:"total"},[t._v(" "+t._s((t.players[e].totalScore/100).toFixed(1))+" ")])],2)})),0):t._e()])},v=[],h=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return a}(p["c"]);Object(l["a"])([Object(p["b"])({type:Array,required:!0})],h.prototype,"players",void 0),Object(l["a"])([Object(p["b"])({type:Array,required:!0})],h.prototype,"numberOfCards",void 0),h=Object(l["a"])([p["a"]],h);var k=h,m=k,_=(a("bc67"),a("2877")),C=Object(_["a"])(m,y,v,!1,null,"6a7d0e68",null),f=C.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat"},[t._m(0),a("div",{staticClass:"body"},[a("ul",t._l(t.messages,(function(e,s){return a("li",{key:s},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)]),a("div",{staticClass:"footer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"Type..."},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send()},input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("a",{staticClass:"button",on:{click:function(e){return t.send()}}},[t._v("Send")])])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h3",[t._v("Mirc Chat")])])}],g=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.text="",t.appHost="https://joker.sgkperformance.com",t}return Object(i["a"])(a,[{key:"send",value:function(){var t=this,e="".concat(this.playerName," > ").concat(this.text);d.a.get("".concat(this.appHost,"/sendMessage?playerId=").concat(this.playerId,"&gameId=").concat(this.gameId,"&message=").concat(e)).then((function(e){t.text="";var a=t.$el.querySelector(".chat .body");a&&(a.scrollTop=a.scrollHeight)})).catch((function(e){e.response&&t.$alert(e.response.data.message)}))}}]),a}(p["c"]);Object(l["a"])([Object(p["b"])()],g.prototype,"messages",void 0),Object(l["a"])([Object(p["b"])()],g.prototype,"gameId",void 0),Object(l["a"])([Object(p["b"])()],g.prototype,"playerId",void 0),Object(l["a"])([Object(p["b"])()],g.prototype,"playerName",void 0),g=Object(l["a"])([p["a"]],g);var P=g,A=P,j=(a("6746"),Object(_["a"])(A,S,b,!1,null,"59453a71",null)),O=j.exports;p["c"].component("account",f),p["c"].component("chat",O);var I=function(t){Object(o["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.currentState={},t.actions=[],t.deck={1:{id:1,suite:"bez",type:"JOKER"},2:{id:2,suite:"bez",type:"JOKER"},3:{id:3,suite:"spade",type:"7"},4:{id:4,suite:"spade",type:"8"},5:{id:5,suite:"spade",type:"9"},6:{id:6,suite:"spade",type:"10"},7:{id:7,suite:"spade",type:"J"},8:{id:8,suite:"spade",type:"Q"},9:{id:9,suite:"spade",type:"K"},10:{id:10,suite:"spade",type:"A"},11:{id:11,suite:"club",type:"7"},12:{id:12,suite:"club",type:"8"},13:{id:13,suite:"club",type:"9"},14:{id:14,suite:"club",type:"10"},15:{id:15,suite:"club",type:"J"},16:{id:16,suite:"club",type:"Q"},17:{id:17,suite:"club",type:"K"},18:{id:18,suite:"club",type:"A"},19:{id:19,suite:"diamond",type:"6"},20:{id:20,suite:"diamond",type:"7"},21:{id:21,suite:"diamond",type:"8"},22:{id:22,suite:"diamond",type:"9"},23:{id:23,suite:"diamond",type:"10"},24:{id:24,suite:"diamond",type:"J"},25:{id:25,suite:"diamond",type:"Q"},26:{id:26,suite:"diamond",type:"K"},27:{id:27,suite:"diamond",type:"A"},28:{id:28,suite:"hart",type:"6"},29:{id:29,suite:"hart",type:"7"},30:{id:30,suite:"hart",type:"8"},31:{id:31,suite:"hart",type:"9"},32:{id:32,suite:"hart",type:"10"},33:{id:33,suite:"hart",type:"J"},34:{id:34,suite:"hart",type:"Q"},35:{id:35,suite:"hart",type:"K"},36:{id:36,suite:"hart",type:"A"}},t.me={},t.players=[],t.opponents=[],t.kozyr="none",t.polling=-1,t.gameId="",t.showJokerAction=!1,t.showJokerActionSuite=!1,t.jokerAction="",t.joker={},t.version=0,t.showResumePolling=!1,t.appHost="https://joker.sgkperformance.com",t}return Object(i["a"])(a,[{key:"created",value:function(){this.startPolling()}},{key:"startPolling",value:function(){var t=this;this.refreshState(),this.gameId=this.$route.params.gameId,this.polling=setInterval((function(){t.refreshState()}),2e3)}},{key:"hitAction",value:function(t){1===t.id||2===t.id?(this.showJokerAction=!0,this.joker=t):this.action(t,"")}},{key:"calculateCardPosition",value:function(t){var e=-1;this.opponents.forEach((function(a,s){a.position===t.playerPosition&&(e=s)}));var a="";return-1===e?a="alignBottom":0===e?a="alignLeft":1===e?a="alignTop":2===e&&(a="alignRight"),a}},{key:"selectJokerAction",value:function(t){this.showJokerAction=!1,this.currentState.currentTurnPosition===this.currentState.actingPlayerPosition?(this.showJokerActionSuite=!0,this.jokerAction=t):this.action(this.joker,t)}},{key:"selectJokerSuite",value:function(t){var e="".concat(this.jokerAction,"_").concat(t);this.showJokerAction=!1,this.showJokerActionSuite=!1,this.jokerAction="",this.action(this.joker,e),this.joker={}}},{key:"closeJokerActions",value:function(){this.showJokerAction=!1,this.showJokerActionSuite=!1,this.jokerAction="",this.joker={}}},{key:"action",value:function(t,e){var a=this;if(this.currentState.currentTurnPosition&&this.currentState.actingPlayerPosition){var s=this.me;s&&s.cards&&s.cards[0]&&s.cards[0]&&(this.currentState.currentTurnPosition!==this.currentState.actingPlayerPosition?d.a.get("".concat(this.appHost,"/reaction?playerId=").concat(s.id,"&cardId=").concat(t.id,"&gameId=").concat(this.gameId,"&jokerReaction=").concat(e)).then((function(t){a.currentState=t.data.state,a.currentState&&a.currentState.currentPlay&&a.currentState.currentPlay.actions&&(a.actions=a.currentState.currentPlay.actions)})).catch((function(t){a.handleError(t)})):d.a.get("".concat(this.appHost,"/action?playerId=").concat(s.id,"&cardId=").concat(t.id,"&gameId=").concat(this.gameId,"&jokerAction=").concat(e)).then((function(t){a.currentState=t.data.state,a.currentState&&a.currentState.currentPlay&&a.currentState.currentPlay.actions&&(a.actions=a.currentState.currentPlay.actions)})).catch((function(t){a.handleError(t)})))}}},{key:"call",value:function(t){var e=this;if(this.currentState.currentTurnPosition){var a=this.players[this.currentState.currentTurnPosition];d.a.get("".concat(this.appHost,"/call?playerId=").concat(a.id,"&wantQty=").concat(t,"&gameId=").concat(this.gameId)).then((function(t){e.currentState=t.data.state})).catch((function(t){e.handleError(t)}))}}},{key:"setKozyr",value:function(t){var e=this;d.a.get("".concat(this.appHost,"/setKozyr?playerId=").concat(this.me.id,"&kozyrSuite=").concat(t,"&gameId=").concat(this.gameId)).then((function(t){e.currentState=t.data.state})).catch((function(t){e.handleError(t)}))}},{key:"refreshState",value:function(){var t=this,e=this.$route.params,a=e.gameId,s=e.id;d.a.get("".concat(this.appHost,"/getPlayersState?playerId=").concat(s,"&gameId=").concat(a)).then((function(e){e.data.state.version!==t.version&&(t.currentState=e.data.state,t.currentState&&t.currentState.currentPlay&&t.currentState.currentPlay.actions&&(t.actions=t.currentState.currentPlay.actions),t.me=e.data.player,p["c"].set(t.players,e.data.player.position,e.data.player),t.opponents=e.data.opponents,e.data.opponents.forEach((function(e){e.position&&p["c"].set(t.players,e.position,e)})),t.kozyr=e.data.state.currentPlay.kozyr)})).catch((function(e){clearInterval(t.polling),t.showResumePolling=!0,t.handleError(e)}))}},{key:"beforeDestroy",value:function(){clearInterval(this.polling),this.polling=-1}},{key:"handleError",value:function(t){t.response&&this.$alert(t.response.data.message)}}]),a}(p["c"]);I=Object(l["a"])([Object(p["a"])({components:{AccountComponent:f,ChatComponent:O}})],I);var w=I,J=w,T=(a("8cc9"),Object(_["a"])(J,s,n,!1,null,"6d65eb34",null));e["default"]=T.exports},"8cc9":function(t,e,a){"use strict";var s=a("9aec"),n=a.n(s);n.a},"9aec":function(t,e,a){},af53:function(t,e,a){},bc67:function(t,e,a){"use strict";var s=a("bcb2"),n=a.n(s);n.a},bcb2:function(t,e,a){}}]);
//# sourceMappingURL=chunk-8a545926.c97006e2.js.map